<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<?xml-stylesheet type="text/xsl" href="modx.subsilver.en.xsl"?>

<mod xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.phpbb.com/mods/xml/modx-1.0.xsd">
  <header>
    <license>http://opensource.org/licenses/gpl-license.php GNU General Public License v2</license>
    <title lang="en-gb">Advanced BBCode Box 3 with ACP ( aka ABBC3 )</title>
    <description lang="en-gb">ABBC3 MOD adds lots of useful BBCode features and makes the bbcode buttons
    look just like Microsoft Office. It also improves the functions of
    phpBB's BBCode function. It adds the bbcode exactly where the cursor is,
    inserts smilies where the cursor is, and adds more ways to customize posts.
    The MOD is very fast loading, and is a sleek addition to your phpBB bulletin board.
    You must have javascript enabled to use this MOD.</description>
    <author-notes lang="en-gb"><![CDATA[I contacted "Disturbed One" the original developer of this mod
    and "freddie" the last developer of this mod,
    and ask for upgrade the Advanced BBcode Box for phpbb2.x to phpbb3.0.0,
    Both say that they will not do the job, and are agree that I do it,
    so here I am ;)

    Phpbb3 posting page use javascript, basically to add tags to the textarea,
    when you click on a button javascript insert the code into the post text.
    ABBC works in the same way, and add more javascript funtions to the wizards...
    Apart from that the only function that need extra javascript is the fade tag.

    Please do not remove the copyright notices without my permission.

    Tested on Windows Browsers:
    - Internet Explorer 7.0
    - Mozilla Firefox 2.0
    - Opera 9.1
    - Safari 3.0
    - Netscape 8.1

    -------------------------------------------------------------------
    Once you finish the install, please take your time to read the the contrib folder content.
    You will find instructions for :
    - How to personalize & setup ABBC3
    - How to add a new icon & bbcode to ABBC3
    - How to use ABBC3 with other's mod
    - Pre modified files
    -------------------------------------------------------------------

    List of all included : ( In order of appearance )

    Advanced BBcodes :

    FIRST LINE :
    * + ( Posting box Resizer : larger )
    * - ( Posting box Resizer : shorter )
    * Font Type Dropdown
    * Font Size Dropdown
    * Highlight Font Color Dropdown
    * Font Color Dropdown ( Disable by default )
    ---------------
    * Cut selected text
    * Copy selected text
    * Paste previously copy text
    * Remove BBCode (Removes all BBCode tags from selected text)

    SECOND LINE :
    ---------------
    * Code
    * Quote
    * Spoiler (User must click on link to review text within tags)
    * Hide tag( Disable by default )
    * Moderator tag ( Use restricted to moderators and / or administrators )
    * Off topic tag
    * NFO ( better on Internet explorer ) ( Disable by default )
    ---------------
    * Justify Align
    * Right Align
    * Center Align
    * Left Align
    * Preformat text
    * Tab
    ---------------
    * Superscript
    * Subscript
    * Bold
    * Italic
    * Underline
    * Strikethrough
    * Text Fade
    * Text Gradient
    * Glow text ( Only Internet explorer ) ( Disable by default )
    * Shadow text ( Only Internet explorer ) ( Disable by default )
    * Dropshadow text ( Only Internet explorer ) ( Disable by default )
    * Blur text ( Only Internet explorer ) ( Disable by default )
    * Wave text ( Only Internet explorer ) ( Disable by default )
    ---------------
    * Unordered List
    * Ordered List
    * List item
    * Line Break

    THIRD LINE :
    ---------------
    * Message Box text direction Left to Light (Traditional)
    * Message Box text direction right to Left (Arabic, etc)
    * Marquee Down
    * Marquee Up
    * Marquee Right
    * Marquee Left
    * Table row cell wizard
    ---------------
    * Simple upload files ( Disable by default )
    * Hyperlink Wizard
    * Email Wizard
    * Ed2k link Wizard
    * Web included by iframe ( Disable by default )
    ( Note : it's use activex so its not safe for forums or other websites.. with this way hacker can get in site and hack them... )
    * Image Wizard
    * Thumbnail
    * Imgshack
    * link checker ( Disable by default ) ( It requires that you have curl installed )
    * Click counter ( Disable by default ) ( Need database update ! )
    * Search tag
    ---------------
    * BBvideo Wizard ( 33 video sites and 7 files types )

    FOURTH LINE :
    ---------------
    * phpbb3 Custom bbcodes from ACP

    -------------------------------------------------------------------
    EasyMOD
    -----------
    This MOD is NOT Tested with EasyMod

    -------------------------------------------------------------------
    SQL commands
    -----------
    This MOD need add a table for bbcode "click"

    -------------------------------------------------------------------
    Translation : See contrib/language folder
    -----------
    * bg [Bulgarian]
    * de [German]
    * en [English]
    * es [Spanish]
    * fr [Francais]
    * he [Hebrew]
    * nl [Dutch]
    * pt_br [Português Português]
    * tr [Turkish]

    -------------------------------------------------------------------
    Official last version
    -----------
    Meanwhile the phpBB group validation and as the MOD is not yet
    in the phpBB MOD database, check this official link for updates...
    http://www.mssti.com/phpbb3/index.php
    If you want to test this board, you can use a demo acount :
    Please visit : http://www.mssti.com/phpbb3/viewtopic.php?f=2&t=1]]></author-notes>
    <author-group>
      <author>
        <realname>Gabriel</realname>
        <email>info@mssti.com</email>
        <username>leviatan21</username>
        <homepage>http://www.mssti.com/phpbb3/</homepage>
        <contributions />
      </author>
    </author-group>
    <mod-version>
      <major>1</major>
      <minor>0</minor>
      <revision>8</revision>
    </mod-version>
    <installation>
      <level>easy</level>
      <time>1401</time>
      <target-version>
        <target-primary>3.0</target-primary>
        <target-major allow="exact">3</target-major>
        <target-minor allow="exact">0</target-minor>
      </target-version>
    </installation>
    <history>
      <entry>
        <date>2008-03-31</date>
        <rev-version>
          <major>1</major>
          <minor>0</minor>
          <revision>8</revision>
        </rev-version>
        <changelog lang="en-gb">
          <change>New installation method, Now ABBC3 is more effective, only loaded if necessary, improved speed and security.</change>
          <change>Change ABBC3 files, folder and var names.</change>
          <change>Added ACP module for customize and setting ABBC3. ( Special thanks to joebart72 )</change>
          <change>Added new bbcode : tab ( Thanks calproye )</change>
          <change>Added new bbcode testlink : This tag is used to check the validity of file host links (also called one-click hosts) ( Thanks pavabe ).</change>
          <change>Added new bbcode list item [*]. ( Thanks CharlesT )</change>
          <change>Added Posting box Resizer. ( Thanks to CrossoverX )</change>
          <change>Added Image Resizer on post : This fix for bug of [img] bbcode when someone add
    a huge image has width larger than the width of post content.
    you have 4 options to display image in full size ( greybox, enlarge, same window, new window).</change>
          <change>Added new bbcode BBvideo ( with width and height up to 999px ): now you have 1 bbcode for all (34) video sites :
    1.uncutvideo.aol.com, 
    2.clipfish.(de|co), 
    3.collegehumor.com, 
    4.crackle.com, 
    5.dailymotion.com, 
    6.gamespot.com
    7.gametrailers.com, 
    8.gamevideos.com, 
    9.godtube.com, 
    10.ign.com, 
    11.liveleak.com, 
    12.livevideo.com, 
    13.megavideo.com
    14.metacafe.com, 
    15.myspacetv.com, 
    16.vids.myspace.com, 
    17.myvideo.(de|be|nl), 
    18.photobucket.com, 
    19.sevenload.com
    20.spike.com, 
    21.stage6.com, 
    22.starsclips.net, 
    23.tu.tv, 
    24.vbox7.com, 
    25.veoh.com, 
    26.videu.de, 
    27.vidiac.com
    28.vidilife.com, 
    29.vimeo.com, 
    30.video.google, 
    31.video.yahoo, 
    32.vsocial.com, 
    33.wat.tv, 
    34.youtube.com
    Also work with (7) files types:
    35.Flash .swf, 
    36.Flash .flv, 
    37.Windows Media Video .wmv, 
    38.Moving Pictures Expert Group .mpg,
    39.Quick Time .mp3, 
    40.Quick Time .qt, 
    41.Real Audio .ram</change>
          <change>Join ABBC3 bbcodes and Ex custom bbcodes, and now they are all mixed together
    by default bbcodes are grouped by type. But you can distribute to your liking.</change>
          <change>Fixed MCP (Moderator Control Panel ) with ABBC3.</change>
          <change>Change Litebox with Graybox used in wizards, thumbnails and image resizer. ( Thanks WillSWC )</change>
          <change>Renew wizards, regarding with styles templates and phpbb3.</change>
          <change>Check permissions status for tags : Links, BBCode, Images, Flash, Quote and Moderator. ( Thanks to muiketi )</change>
          <change>New and renewed images. ( Thamks SinDramas )</change>
          <change>Fixed align tag</change>
          <change>Fixed others minor bugs. ( Thamks SinDramas )</change>
        </changelog>
      </entry>
      <entry>
        <date>2008-02-21</date>
        <rev-version>
          <major>1</major>
          <minor>0</minor>
          <revision>7</revision>
          <release>b</release>
        </rev-version>
        <changelog lang="en-gb">
          <change>Fixed the problem when DEBUG is set to true. ( Thanks to muiketi )</change>
          <change>Fixed the problem when Quoting or PM's a message. ( Thanks to Anabella! )</change>
          <change>Fixed mouseover help for phpbb custom bbcodes, in subsilver2 ( Thanks SinDramas )</change>
          <change>Fixed add-on upload.</change>
          <change>Fixed others minor bugs.</change>
          <change>Re-write, updated and added text to all documents ( add-on, how-to-add, ...) and languages files</change>
        </changelog>
      </entry>
      <entry>
        <date>2008-02-18</date>
        <rev-version>
          <major>1</major>
          <minor>0</minor>
          <revision>7</revision>
        </rev-version>
        <changelog lang="en-gb">
          <change>New installation method</change>
          <change>Re-write all code, now ABBC3 is a class.</change>
          <change>Dinamic display page for posting.</change>
          <change>Added help page ! ( Thanks muiketi )</change>
          <change><![CDATA[Added font colour dropdown and remove phpbb3 color selector ( Suggested by riehn )>]]></change>
          <change>Improve cosmetic issue.</change>
          <change>Added severals background images. For set it, please read the contrib folder content.</change>
          <change>Fixed PM's with ABBC3. ( Thanks mej284 )</change>
          <change>Fixed insert bbcodes with wizards on IE ( Thanks phptr )</change>
          <change>Fixed show custom bbcodes from a how-to-add in 'posting_abbcodes_buttons.html' files ( Thanks joebart72 )</change>
          <change>Added image left|center|right ( Thanks BizimPencere ). For set it, please read the contrib folder content.</change>
          <change>Fixed web, now you can use http://www. | https://www. | www.</change>
          <change>Fixed Youtube link, now you can use with or without www, also work with international links.</change>
          <change>Added severals pre installed custom bbcodes, all are disabled by default. For set it, please read the contrib folder content.
    * icon for Simple Hide BBcode MOD by ycl6. ( not the full mod )
    * Moderator ( Thanks pavabe )
    * Offtopic ( Thanks tupeu )
    * Dailymotion video ( Thanks joebart72 )
    * Gamespot video ( Thanks naushadhassam )
    * Gametrailers video ( Thanks naushadhassam )
    * IGN video ( Thanks naushadhassam )
    * Liveleak video ( Thanks [alfa] )
    * Veoh video ( Thanks turkanime )
    * NFO ( Thanks TigerCrow ) (better on Internet explorer)
    * Glow text ( Thanks muiketi ) (Only Internet explorer)
    * Shadow text ( Thanks muiketi ) (Only Internet explorer)
    * Dropshadow text ( Thanks muiketi ) (Only Internet explorer)
    * Blur text ( Thanks muiketi ) (Only Internet explorer)
    * Wave text ( Thanks muiketi ) (Only Internet explorer)
    * Search tag ( Thanks muiketi )
    * Simple upload files ( Thanks naushadhassam )</change>
        </changelog>
      </entry>
      <entry>
        <date>2008-02-03</date>
        <rev-version>
          <major>1</major>
          <minor>0</minor>
          <revision>6</revision>
          <release>b</release>
        </rev-version>
        <changelog lang="en-gb">
          <change>New installation method</change>
          <change>Fixed PM's with ABBC3. ( Thanks mej284 )</change>
          <change>Fixed show custom bbcodes from a how-to-add in 'posting_abbcodes_buttons.html' files ( Thanks joebart72 )</change>
          <change>Added 2 pre installed custom bbcodes : Dailymotion and Moderator, both are disabled by default.</change>
        </changelog>
      </entry>
      <entry>
        <date>2008-01-31</date>
        <rev-version>
          <major>1</major>
          <minor>0</minor>
          <revision>6</revision>
        </rev-version>
        <changelog lang="en-gb">
          <change>New installation method</change>
          <change>New config, you can enable/disable each one tags, regardless. By default all are enables
          please open includes/abbcode.php and look at $abbcode_config = array()</change>
          <change>Fixed if text is selected and clik on a tag, the wizard is not displayed
          and instead add the selected bbcode. ( excepted table bbcode )</change>
          <change>Parsing abbcodes improved, now it's more fast</change>
          <change>Fixed bug table parsing.</change>
          <change><![CDATA[Added wizard examples, please open language/en/mods/abbcode.php
      	  and look at all 'ABBCODE_?????_NOTE' => and add/change to your own examples ;)]]></change>
          <change>Fixed wizards no description imput. ( Thanks pavabe )</change>
          <change>Fixed wizard email ( Thanks pavabe )</change>
          <change>Fixed style/subsilver2/posting_button.html ( Thanks mej284 )</change>
          <change>Fixed video + Real Player + stream tags.</change>
          <change>Added new typo thumbnail</change>
          <change>Added new typo quick time</change>
          <change>Fixed the copyright link ( Thanks joebart72 )</change>
          <change>Fixed a misspell in language/en/mods/abbcode.php ( Thanks pavabe )</change>
        </changelog>
      </entry>
      <entry>
        <date>2008-01-25</date>
        <rev-version>
          <major>1</major>
          <minor>0</minor>
          <revision>5</revision>
        </rev-version>
        <changelog lang="en-gb">
          <change>Fixed overall_header.html javascript call.</change>
          <change>Fixed grad color bug for IE ( Thanks ThunderCrew )</change>
          <change>Fixed bug install.txt file</change>
        </changelog>
      </entry>
      <entry>
        <date>2008-01-18</date>
        <rev-version>
          <major>1</major>
          <minor>0</minor>
          <revision>4</revision>
        </rev-version>
        <changelog lang="en-gb">
          <change>Added security on laguages files.</change>
          <change>Renewed wizards.</change>
          <change>Added/renewed font styles.</change>
          <change>Added imageshack upload.</change>
          <change>Fixed video + Real Player + stream tags.</change>
          <change>Fixed grad color. ( Thanks ThunderCrew )</change>
          <change>Fixed table.</change>
          <change>Improve cosmetic issue.</change>
        </changelog>
      </entry>
      <entry>
        <date>2008-01-15</date>
        <rev-version>
          <major>1</major>
          <minor>0</minor>
          <revision>3</revision>
        </rev-version>
        <changelog lang="en-gb">
          <change>Fix in subsilver posting_abbcodes_buttons.html.</change>
          <change>Added contrib/add-on folder with Quick reply info.</change>
          <change>Fixed private message bugs. ( Thanks El_Vindicador )</change>
          <change>Fixed others minor bugs.</change>
        </changelog>
      </entry>
      <entry>
        <date>2008-01-14</date>
        <rev-version>
          <major>1</major>
          <minor>0</minor>
          <revision>2</revision>
        </rev-version>
        <changelog lang="en-gb">
          <change>Change folder placement ( Suggested by MrC ).</change>
          <change>Added languaje file.</change>
          <change>Changed highlight dropdown colors with phpbb colors.</change>
          <change>Change the copyright link to image link.</change>
          <change><![CDATA[Added Giant font size (you must go ACP -> General Tab -> Board configuration -> Post settings
         look at "Maximum font size per post: Maximum font size allowed in a post. Set to 0 for unlimited font size." and change 200 value with 300)]]></change>
        </changelog>
      </entry>
      <entry>
        <date>2008-01-11</date>
        <rev-version>
          <major>1</major>
          <minor>0</minor>
          <revision>1</revision>
        </rev-version>
        <changelog lang="en-gb">
          <change>Added typo Pre.</change>
          <change>Adder table wizard ( Suggested by ahmedgroup ).</change>
          <change>Fixed Gradient.</change>
          <change>Fixed added codes buttons from phpbb3 ACP.</change>
        </changelog>
      </entry>
      <entry>
        <date>2008-01-10</date>
        <rev-version>
          <major>1</major>
          <minor>0</minor>
          <revision>0</revision>
        </rev-version>
        <changelog lang="en-gb">
          <change>Upgrade from phpbb2.x to phpbb3.0.0 (Gold)</change>
        </changelog>
      </entry>
    </history>
    <meta name="generator" content="Phpbb.ModTeam.Tools (c#)" />
  </header>
  <action-group>
    <sql>CREATE TABLE `phpbb_clicks` (
  `id` mediumint(6) unsigned NOT NULL auto_increment,
  `url` varchar(255) NOT NULL default '',
  `clicks` decimal(6,0) unsigned NOT NULL default '0',
  UNIQUE KEY `id` (`id`),
  KEY `md5` (`url`)
) TYPE=MyISAM ;</sql>
    <copy>
      <file from="root/adm/style/acp_abbcodes.html" to="adm/style/acp_abbcodes.html" />
      <file from="root/files/*.*" to="files/*.*" />
      <file from="root/images/*.*" to="images/*.*" />
      <file from="root/includes/*.*" to="includes/*.*" />
      <file from="root/language/en/mods/*.*" to="language/en/mods/*.*" />
      <file from="root/styles/prosilver/*.*" to="styles/prosilver/*.*" />
      <file from="root/styles/subsilver2/*.*" to="styles/subsilver2/*.*" />
    </copy>
    <open src="includes/bbcode.php">
      <edit>
        <find><![CDATA[function bbcode_second_pass(&$message, $bbcode_uid = '', $bbcode_bitfield = false)]]></find>
        <action type="replace-with"><![CDATA[// MOD : ABBC3 (V1.0.8) - START
//	function bbcode_second_pass(&$message, $bbcode_uid = '', $bbcode_bitfield = false)
	function bbcode_second_pass(&$message, $bbcode_uid = '', $bbcode_bitfield = false, $abbc3 = true)
// MOD : ABBC3 (V1.0.8) - end]]></action>
      </edit>
      <edit>
        <find><![CDATA[		if (!$this->bbcode_bitfield)]]></find>
        <action type="before-add"><![CDATA[		// MOD : ABBC3 (V1.0.8) - START
		if ( $abbc3 )
		{
			if (!class_exists('abbcode'))
			{
				global $phpbb_root_path, $phpEx;
				include($phpbb_root_path . 'includes/abbcode.' . $phpEx);
			}
			$abbcode3 = new abbcode();
			$abbcode3->abbcode_init();
			$message = $abbcode3->abbcode_process( $message );
		}
		// MOD : ABBC3 (V1.0.8) - END]]></action>
      </edit>
      <edit>
        <find>		if (empty($bbcode_hardtpl))
		{
			global $user;</find>
        <action type="after-add"><![CDATA[			// MOD : ABBC3 (V1.0.8) - START
			if (!class_exists('abbcode'))
			{
				global $phpbb_root_path, $phpEx;
				include($phpbb_root_path . 'includes/abbcode.' . $phpEx);
			}
			$abbcode3 = new abbcode();
			$abbcode3->abbcode_init( 'config' );
			// MOD : ABBC3 (V1.0.8) - END]]></action>
      </edit>
      <edit>
        <find><![CDATA[				'img'		=> '<img src="$1" alt="' . $user->lang['IMAGE'] . '" />',]]></find>
        <action type="replace-with"><![CDATA[			// MOD : ABBC3 (V1.0.8) - START
			//	'img'		=> '<img src="$1" alt="' . $user->lang['IMAGE'] . '" />',
				'img'		=> '<img src="$1" alt="' . $user->lang['IMAGE'] . '"' . ( ( $abbcode3->abbcode_config['ABBC3_RESIZE'] ) ? ' onload="NcodeImageResizer.createOn(this);"' : '') . ' />',
			// MOD : ABBC3 (V1.0.8) - END]]></action>
      </edit>
    </open>
    <open src="includes/constants.php">
      <edit>
        <find>// Additional tables</find>
        <action type="after-add">// MOD : ABBC3 (V1.0.8) Clicks Counter feature - START
define('CLICKS_TABLE',				$table_prefix . 'clicks');
// MOD : ABBC3 (V1.0.8) Clicks Counter feature - END</action>
      </edit>
    </open>
    <open src="includes/functions.php">
      <edit>
        <find>// The following assigns all _common_ variables that may be used at any point in a template.</find>
        <action type="before-add"><![CDATA[	// MOD : ABBC3 (V1.0.8) - START
	if (!class_exists('abbcode'))
	{
		include($phpbb_root_path . 'includes/abbcode.' . $phpEx);
	}
	$abbcode = new abbcode();
	$abbcode->abbcode_init( 'config' );
	$abbcode->abbcode_display( 'config' );
	// MOD : ABBC3 (V1.0.8) - END]]></action>
      </edit>
    </open>
    <open src="includes/functions_display.php">
      <edit>
        <find><![CDATA[		$i++;
	}
	$db->sql_freeresult($result);]]></find>
        <action type="after-add"><![CDATA[	// MOD : ABBC3 (V1.0.8) - START
	if (!class_exists('abbcode'))
	{
		global $phpbb_root_path, $phpEx;
		include($phpbb_root_path . 'includes/abbcode.' . $phpEx);
	}
	$abbcode = new abbcode();
	$abbcode->abbcode_init();
	$abbcode->abbcode_display();
	// MOD : ABBC3 (V1.0.8) - END]]></action>
      </edit>
    </open>
    <open src="includes/functions_posting.php">
      <edit>
        <find>	$current_time = time();</find>
        <action type="before-add"><![CDATA[	// MOD : ABBC3 (V1.0.8) - START
	if (!class_exists('abbcode'))
	{
		include($phpbb_root_path . 'includes/abbcode.' . $phpEx);
	}
	$abbcode = new abbcode();
	$abbcode->abbcode_init( 'config' );
	$data['bbcode_bitfield'] = ($data['enable_bbcode']) ? ( $data['bbcode_bitfield'] ) ? $data['bbcode_bitfield'] : $abbcode->abbcode_config['ABBC3_BITFIELD'] : $data['bbcode_bitfield'] ;
	// MOD : ABBC3 (V1.0.8) - END]]></action>
      </edit>
    </open>
    <open src="includes/acp/acp_styles.php">
      <edit>
        <find><![CDATA[				if ($file[0] != '.' && strtoupper($file) != 'CVS' && !is_file($dir . '/' . $file) && !is_link($dir . '/' . $file))]]></find>
        <action type="replace-with"><![CDATA[			// MOD : ABBC3 (V1.0.8) - START
			//	if ($file[0] != '.' && strtoupper($file) != 'CVS' && !is_file($dir . '/' . $file) && !is_link($dir . '/' . $file))
				if ($file[0] != '.' && strtoupper($file) != 'CVS' && !is_file($dir . '/' . $file) && !is_link($dir . '/' . $file) && $file != 'abbcode')
			// MOD : ABBC3 (V1.0.8) - END]]></action>
      </edit>
    </open>
    <open src="language/en/acp/common.php">
      <edit>
        <find><![CDATA[?>]]></find>
        <action type="before-add"><![CDATA[// MOD : ABBC3 (V1.0.8) - START
$lang = array_merge($lang, array(
	'ACP_CAT_ABBCODES'			=> 'Advanced BBcodes Box 3',
	'LOG_CONFIG_ABBCODES'		=> '<strong>Altered ABBC3 settings</strong>',
	'LOG_CONFIG_ABBCODES_ERROR'	=> '<strong>Error while save ABBC3 settings</strong>',
	'LOG_RESET_ABBCODES'		=> '<strong>Reset ABBC3 settings</strong>',
	'LOG_RESET_ABBCODES_ERROR'	=> '<strong>Error while reset ABBC3 settings</strong>',
	'RESET_ABBCODES_EXPLAIN'	=> 'Are you sure you wish to reset <em>all bbcodes</em> to default settings?',
	'RESET_CONFIG_EXPLAIN'		=> 'Are you sure you wish to reset <strong>ABBC3</strong> to default settings?',
	'ACP_ABBC3_SETTINGS'		=> 'ABBC3 settings',
	'ACP_ABBC3_COMPONENTS'		=> 'ABBC3 components',
));
// MOD : ABBC3 (V1.0.8) - END]]></action>
      </edit>
    </open>
    <open src="styles/prosilver/template/overall_header.html">
      <edit>
        <find><![CDATA[</head>]]></find>
        <action type="before-add">&lt;!-- // MOD : ABBC3 (V1.0.8) - START --&gt;

&lt;!-- IF S_ABBC3_MOD and (S_NEW_MESSAGE or S_EDIT_POST or S_VIEWTOPIC or S_DISPLAY_PREVIEW or S_PRIVMSGS or S_POST_REVIEW or S_DISPLAY_REVIEW or S_BBCODE_ALLOWED or mcp) --&gt;
&lt;script type="text/javascript" src="{T_IMAGESET_PATH}/abbcode/abbcode.js" charset="{S_CONTENT_ENCODING}"&gt;&lt;/script&gt;

&lt;!-- IF (S_ABBC3_GREYBOX or S_BBCODE_ALLOWED or S_ABBC3_RESIZE) --&gt;
&lt;script type="text/javascript"&gt;
// &lt;![CDATA[
	var GB_ROOT_DIR                       = "{T_IMAGESET_PATH}/abbcode/greybox/";
&lt;!-- IF S_ABBC3_RESIZE --&gt;
	NcodeImageResizer.MODE                = '{S_ABBC3_RESIZE_METHOD}'; // 'greybox' 'enlarge' 'samewindow' 'newwindow'
	NcodeImageResizer.IMAGE               = '{T_IMAGESET_PATH}/abbcode/images/errormt0.gif';
	NcodeImageResizer.MAXWIDTH            = '{S_ABBC3_MAX_IMG_WIDTH}' ;
	NcodeImageResizer.MAXHEIGHT           = '{S_ABBC3_MAX_IMG_HEIGHT}' ;
	NcodeImageResizer.warning_small       = '{L_ABBC3_RESIZE_SMALL}';
	NcodeImageResizer.warning_filesize    = '{L_ABBC3_RESIZE_FILESIZE}';
	NcodeImageResizer.warning_no_filesize = '{L_ABBC3_RESIZE_NOFILESIZE}';
	NcodeImageResizer.warning_fullsize    = '{L_ABBC3_RESIZE_FULLSIZE}';
&lt;!-- ENDIF --&gt;

// ]]&gt;
&lt;/script&gt;

&lt;script type="text/javascript" src="{T_IMAGESET_PATH}/abbcode/greybox/AJS.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="{T_IMAGESET_PATH}/abbcode/greybox/AJS_fx.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="{T_IMAGESET_PATH}/abbcode/greybox/gb_scripts.js"&gt;&lt;/script&gt;
&lt;link rel="stylesheet" type="text/css" media="all" href="{T_IMAGESET_PATH}/abbcode/greybox/gb_styles.css" /&gt;
&lt;!-- ENDIF --&gt;

&lt;link rel="stylesheet" type="text/css" media="all" href="{T_IMAGESET_PATH}/abbcode/abbcode.css" /&gt;
&lt;!-- ENDIF --&gt;
&lt;!-- // MOD : ABBC3 (V1.0.8) - END --&gt;</action>
      </edit>
    </open>
    <open src="styles/prosilver/template/simple_header.html">
      <edit>
        <find><![CDATA[</head>]]></find>
        <action type="before-add"><![CDATA[<!-- // MOD : ABBC3 (V1.0.8) - START -->
<link rel="stylesheet" type="text/css" media="all" href="{T_IMAGESET_PATH}/abbcode/abbcode.css" />
<!-- // MOD : ABBC3 (V1.0.8) - END -->]]></action>
      </edit>
    </open>
    <open src="styles/prosilver/template/posting_buttons.html">
      <edit>
        <find><![CDATA[<div id="format-buttons">]]></find>
        <action type="after-add"><![CDATA[<!-- // MOD : ABBC3 (V1.0.8) - START -->
<!-- IF S_ABBC3_MOD -->
	<!-- INCLUDE posting_abbcode_buttons.html -->
<!-- ELSE -->
<!-- // MOD : ABBC3 (V1.0.8) - END -->]]></action>
      </edit>
      <edit>
        <find><![CDATA[</div>
<!-- ENDIF -->]]></find>
        <action type="before-add"><![CDATA[<!-- // MOD : ABBC3 (V1.0.8) - START -->
<!-- ENDIF -->
<!-- // MOD : ABBC3 (V1.0.8) - END -->]]></action>
      </edit>
    </open>
    <open src="styles/subsilver2/template/overall_header.html">
      <edit>
        <find><![CDATA[</head>]]></find>
        <action type="before-add">&lt;!-- // MOD : ABBC3 (V1.0.8) - START --&gt;

&lt;!-- IF S_ABBC3_MOD and (S_NEW_MESSAGE or S_EDIT_POST or S_VIEWTOPIC or S_DISPLAY_PREVIEW or S_PRIVMSGS or S_POST_REVIEW or S_DISPLAY_REVIEW or S_BBCODE_ALLOWED or mcp) --&gt;

&lt;script type="text/javascript" src="{T_IMAGESET_PATH}/abbcode/abbcode.js" charset="{S_CONTENT_ENCODING}"&gt;&lt;/script&gt;

&lt;!-- IF (S_ABBC3_GREYBOX or S_BBCODE_ALLOWED or S_ABBC3_RESIZE) --&gt;
&lt;script type="text/javascript"&gt;
// &lt;![CDATA[
	var GB_ROOT_DIR                       = "{T_IMAGESET_PATH}/abbcode/greybox/";
&lt;!-- IF S_ABBC3_RESIZE --&gt;
	NcodeImageResizer.MODE                = '{S_ABBC3_RESIZE_METHOD}'; // 'greybox' 'enlarge' 'samewindow' 'newwindow'
	NcodeImageResizer.IMAGE               = '{T_IMAGESET_PATH}/abbcode/images/errormt0.gif';
	NcodeImageResizer.MAXWIDTH            = '{S_ABBC3_MAX_IMG_WIDTH}' ;
	NcodeImageResizer.MAXHEIGHT           = '{S_ABBC3_MAX_IMG_HEIGHT}' ;
	NcodeImageResizer.warning_small       = '{L_ABBC3_RESIZE_SMALL}';
	NcodeImageResizer.warning_filesize    = '{L_ABBC3_RESIZE_FILESIZE}';
	NcodeImageResizer.warning_no_filesize = '{L_ABBC3_RESIZE_NOFILESIZE}';
	NcodeImageResizer.warning_fullsize    = '{L_ABBC3_RESIZE_FULLSIZE}';
&lt;!-- ENDIF --&gt;

// ]]&gt;
&lt;/script&gt;

&lt;script type="text/javascript" src="{T_IMAGESET_PATH}/abbcode/greybox/AJS.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="{T_IMAGESET_PATH}/abbcode/greybox/AJS_fx.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="{T_IMAGESET_PATH}/abbcode/greybox/gb_scripts.js"&gt;&lt;/script&gt;
&lt;link rel="stylesheet" type="text/css" media="all" href="{T_IMAGESET_PATH}/abbcode/greybox/gb_styles.css" /&gt;
&lt;!-- ENDIF --&gt;

&lt;link rel="stylesheet" type="text/css" media="all" href="{T_IMAGESET_PATH}/abbcode/abbcode.css" /&gt;
&lt;!-- ENDIF --&gt;
&lt;!-- // MOD : ABBC3 (V1.0.8) - END --&gt;</action>
      </edit>
    </open>
    <open src="styles/subsilver2/template/simple_header.html">
      <edit>
        <find><![CDATA[</head>]]></find>
        <action type="before-add"><![CDATA[<!-- // MOD : ABBC3 (V1.0.8) - START -->
<link rel="stylesheet" type="text/css" media="all" href="{T_IMAGESET_PATH}/abbcode/abbcode.css" />
<!-- // MOD : ABBC3 (V1.0.8) - END -->]]></action>
      </edit>
    </open>
    <open src="styles/subsilver2/template/posting_body.html">
      <edit>
        <find><![CDATA[			<td valign="top" style="width: 100%;"><textarea name="message" rows="15" cols="76" tabindex="3" onselect="storeCaret(this);" onclick="storeCaret(this);" onkeyup="storeCaret(this);" style="width: 98%;">{MESSAGE}</textarea></td>]]></find>
        <action type="before-add"><![CDATA[		<!-- // MOD : ABBC3 (V1.0.8) - START -->
		<!-- IF S_ABBC3_MOD and S_ABBC3_FONTCOLOR -->
			<td valign="top" colspan="2"><textarea id="message" name="message" rows="15" cols="76" tabindex="3" onselect="storeCaret(this);" onclick="storeCaret(this);" onkeyup="storeCaret(this);" style="width: 99%;">{MESSAGE}</textarea></td>		
		<!-- ELSE -->]]></action>
      </edit>
      <edit>
        <find><![CDATA[				</script>
			</td>
			<!-- ENDIF -->]]></find>
        <action type="after-add"><![CDATA[		<!-- ENDIF -->
		<!-- // MOD : ABBC3 (V1.0.8) - END -->]]></action>
      </edit>
    </open>
    <open src="styles/subsilver2/template/posting_buttons.html">
      <edit>
        <find><![CDATA[<!-- IF S_BBCODE_ALLOWED -->]]></find>
        <action type="after-add"><![CDATA[	<!-- // MOD : ABBC3 (V1.0.8) - START -->
	<!-- IF S_ABBC3_MOD -->
		<!-- INCLUDE posting_abbcode_buttons.html -->
	<!-- ELSE -->
	<!-- // MOD : ABBC3 (V1.0.8) - END -->]]></action>
        <comment lang="en-gb">This line appears twice, but we will use only the first match.</comment>
      </edit>
      <edit>
        <find><![CDATA[<!-- ENDIF -->
	</td>
</tr>]]></find>
        <action type="before-add"><![CDATA[	<!-- // MOD : ABBC3 (V1.0.8) - START -->
	<!-- ENDIF -->
	<!-- // MOD : ABBC3 (V1.0.8) - END -->]]></action>
      </edit>
      <edit>
        <find><![CDATA[<!-- IF S_BBCODE_ALLOWED and .custom_tags -->]]></find>
        <action type="before-add"><![CDATA[<!-- // MOD : ABBC3 (V1.0.8) - START -->
<!-- IF not S_ABBC3_MOD -->]]></action>
      </edit>
      <edit>
        <find><![CDATA[		<td class="genmed" align="center">{L_FONT_COLOR}</td>
	<!-- ENDIF -->
</tr>
<!-- ENDIF -->]]></find>
        <action type="after-add"><![CDATA[<!-- ENDIF -->
<!-- // MOD : ABBC3 (V1.0.8) - END -->]]></action>
      </edit>
    </open>
    <open src="styles/subsilver2/template/ucp_profile_signature.html">
      <edit>
        <find><![CDATA[			<td colspan="2"><textarea class="post" name="signature" rows="10" cols="76" style="width: 90%;" onselect="storeCaret(this);" onclick="storeCaret(this);" onkeyup="storeCaret(this);">{SIGNATURE}</textarea></td>]]></find>
        <action type="before-add"><![CDATA[		<!-- // MOD : ABBC3 (V1.0.8) - START -->
		<!-- IF S_ABBC3_MOD and S_ABBC3_FONTCOLOR -->
			<td colspan="2"><textarea class="post" id="signature" name="signature" rows="10" cols="76" style="width: 99%;" onselect="storeCaret(this);" onclick="storeCaret(this);" onkeyup="storeCaret(this);">{SIGNATURE}</textarea></td>
		</tr>
		<!-- ELSE -->]]></action>
      </edit>
      <edit>
        <find><![CDATA[						</script>
					</td>
				</tr>
				</table>
			</td>
		</tr>
		<!-- ENDIF -->]]></find>
        <action type="after-add"><![CDATA[		<!-- ENDIF -->
		<!-- // MOD : ABBC3 (V1.0.8) - END -->]]></action>
      </edit>
    </open>
    <diy-instructions lang="en-gb"><![CDATA[IMPORTANT !
#####################################################################
Change the permissions on the "config" folder ( all styles ) to be writable by all (777 or -rwxrwxrwx within your FTP Client):
Example :
styles/prosilver/imageset/abbcode/config
styles/subsilver2/imageset/abbcode/config

#####################################################################
There is a part that you need to do in your forum.

(1) Log on to Administration Control Panel
(2) Navigate to "System" tab
(3) Under "Module management" click on "Administration Control Panel" and "Posting" ( or If you prefer you can do it in ".mod" )
(4) Under "Create new module", enter : ACP_CAT_ABBCODES and click "Create new module"
(5) in the next screen, click on "Module enabled:", and Sumbit
(6) afert refresh screen click on "Advanced BBcodes Box 3"
(7) in "add module" select "ABBC3 settings" and click on "add module", them click on "yes"
(8) afert refresh screen click "enable" "Advanced BBcodes Box 3"
(9) Them navigate to "Posting" tab and under "Advanced BBcodes Box 3" you will see "ABBC3 settings" 
	Enjoy it !.
	
#####################################################################
Added Giant font size (you must go ACP -> General Tab -> Board configuration -> Post settings
	look at "Maximum font size per post: Maximum font size allowed in a post. Set to 0 for unlimited font size."
	and change "200" value with "300"

#####################################################################
After installation, make sure you purge the cache and refresh all the styles through the ACP to get everything to show up correctly.

]]></diy-instructions>
  </action-group>
</mod>